<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026松山通訊錄</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #27ae60;
            --bg: #f8f9fa;
            --text: #333;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Microsoft JhengHei", sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 0;
            color: var(--text);
        }

        /* 標題與搜尋區域固定在頂部 */
        .sticky-header {
            position: sticky;
            top: 0;
            background: white;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        h2 {
            margin: 0 0 10px 0;
            font-size: 1.2rem;
            text-align: center;
            color: var(--primary);
        }

        .search-box {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            box-sizing: border-box;
            outline: none;
            transition: border-color 0.3s;
        }

        .search-box:focus {
            border-color: var(--accent);
        }

        /* 統計資訊 */
        .stats {
            text-align: center;
            font-size: 13px;
            color: #777;
            margin-top: 8px;
        }

        /* 卡片容器：RWD 關鍵 */
        .grid-container {
            display: grid;
            gap: 12px;
            padding: 15px;
            max-width: 1200px;
            margin: auto;
        }

        /* 預設手機版：1欄 */
        @media (min-width: 0px) {
            .grid-container { grid-template-columns: 1fr; }
        }

        /* 平板或手機橫向：2欄 */
        @media (min-width: 600px) {
            .grid-container { grid-template-columns: repeat(2, 1fr); }
            h2 { font-size: 1.5rem; }
        }

        /* 電腦版：3欄 */
        @media (min-width: 1024px) {
            .grid-container { grid-template-columns: repeat(3, 1fr); }
        }

        /* 卡片樣式 */
        .card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-left: 5px solid var(--accent);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .team-info {
            font-size: 11px;
            background: var(--primary);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
        }

        .name {
            font-size: 1.1rem;
            font-weight: bold;
            margin: 0;
        }

        .job-title {
            color: #e67e22;
            font-size: 0.9rem;
            font-weight: normal;
        }

        .phone-row {
            margin: 5px 0;
            font-size: 14px;
            display: flex;
            align-items: center;
        }

        .phone-row b {
            width: 70px;
            color: #888;
        }

        .tel-link {
            color: #007bff;
            text-decoration: none;
            font-weight: 600;
        }

        /* 針對裝置方向調整 */
        @media (orientation: landscape) and (max-height: 500px) {
            .sticky-header { padding: 8px 15px; }
            h2 { display: inline-block; margin-right: 20px; }
            .search-box { width: auto; min-width: 300px; }
        }
    </style>
</head>
<body>

<div class="sticky-header">
    <h2>2026年 松山一互愛二協力 通訊錄</h2>
    <input type="text" id="searchInput" class="search-box" placeholder="搜尋姓名、電話、隊伍..." onkeyup="filterData()">
    <div class="stats" id="counter">正在載入資料...</div>
</div>

<div class="grid-container" id="contactGrid"></div>

<script>
// 完整 XML 數據庫
const rawXml = `
<root>
    <m t="一隊" id="1" j="隊長" n="陳盛樹" h="87725986" p="0933133578"/>
    <m t="一隊" id="2" j="副隊長" n="林邦彥" h="26416463" p="0936464345"/>
    <m t="一隊" id="3" j="隊員" n="王志遠" h="" p="0926030487"/>
    <m t="一隊" id="4" j="隊員" n="王金文" h="" p="0933201610"/>
    <m t="一隊" id="5" j="隊員" n="江朝成" h="27133792" p="0933905998"/>
    <m t="一隊" id="6" j="隊員" n="李春佳" h="25794212" p="0938698712"/>
    <m t="一隊" id="7" j="隊員" n="李緯濤" h="86462497" p="0970781846"/>
    <m t="一隊" id="8" j="隊員" n="卓富全" h="87706226" p="0919139914"/>
    <m t="一隊" id="9" j="隊員" n="周小平" h="27168753" p="0961077077"/>
    <m t="一隊" id="10" j="隊員" n="林名崇" h="25702959" p="0979552925"/>
    <m t="一隊" id="11" j="隊員" n="林幸彌" h="26463355" p="0932040292"/>
    <m t="一隊" id="12" j="隊員" n="洪順成" h="25027330" p="0937893486"/>
    <m t="一隊" id="13" j="隊員" n="張書財" h="86663762" p="0932678001"/>
    <m t="一隊" id="14" j="隊員" n="陳岳良" h="29886110" p="0989349428"/>
    <m t="一隊" id="15" j="隊員" n="陳紹麟" h="27168912" p="0919501104"/>
    <m t="一隊" id="16" j="隊員" n="黃章豪" h="" p="0921891522"/>
    <m t="一隊" id="17" j="隊員" n="黃暉晶" h="" p="0926629532"/>
    <m t="一隊" id="18" j="隊員" n="楊立偉" h="25781766" p=""/>
    <m t="一隊" id="19" j="隊員" n="楊朱旺" h="25781766" p=""/>
    <m t="一隊" id="20" j="隊員" n="葉宗柱" h="25037266" p="0922216130"/>
    <m t="一隊" id="21" j="隊員" n="詹景崇" h="25097668" p="0921895753"/>
    <m t="一隊" id="22" j="隊員" n="詹錦棟" h="" p="0981605738"/>
    <m t="一隊" id="23" j="隊員" n="鄭茂成" h="25776971" p="0936329988"/>
    <m t="一隊" id="24" j="隊員" n="鐘鴻筆" h="25784866" p="0910069517"/>
    <m t="一隊" id="25" j="隊員" n="簡正昭" h="" p="0912269146"/>
    <m t="一隊" id="26" j="隊員" n="魏三泰" h="" p="0932182653"/>
    <m t="一隊" id="27" j="隊員" n="黃君武" h="27818809" p="0920126638"/>
    <m t="一隊" id="28" j="隊員" n="王子健" h="" p="0918798017"/>
    <m t="一隊" id="29" j="隊員" n="李家宏" h="" p="0911706088"/>
    <m t="一隊" id="30" j="隊員" n="張雲龍" h="" p="0906509222"/>

    <m t="二隊" id="1" j="隊長" n="林寶桐" h="25472767" p="0939885621"/>
    <m t="二隊" id="2" j="副隊長" n="許景勝" h="" p="0928143722"/>
    <m t="二隊" id="3" j="隊員" n="王明" h="25790808" p="0963808183"/>
    <m t="二隊" id="5" j="隊員" n="王英桂" h="27619915" p="0930283730"/>
    <m t="二隊" id="7" j="隊員" n="吳旭緻" h="25964085" p="0937188306"/>
    <m t="二隊" id="8" j="隊員" n="李金生" h="27137313" p="0910929836"/>
    <m t="二隊" id="9" j="隊員" n="李垂達" h="27121291" p="0925290196"/>
    <m t="二隊" id="11" j="隊員" n="林進燁" h="27963199" p="0978159887"/>
    <m t="二隊" id="12" j="隊員" n="張政雄" h="27617761" p="0912219858"/>
    <m t="二隊" id="14" j="隊員" n="陳邦元" h="27471727" p="0989980789"/>
    <m t="二隊" id="15" j="隊員" n="陳義雄" h="27135119" p="0920163651"/>
    <m t="二隊" id="16" j="隊員" n="彭仲達" h="27684032" p="0939248766"/>
    <m t="二隊" id="17" j="隊員" n="彭忠義" h="26434864" p="0928063564"/>
    <m t="二隊" id="18" j="隊員" n="黃明山" h="27929152" p="0920911452"/>
    <m t="二隊" id="19" j="隊員" n="穆偉傑" h="27965359" p="0910211406"/>
    <m t="二隊" id="20" j="隊員" n="駱繼倫" h="86632128" p="0958020865"/>
    <m t="二隊" id="22" j="隊員" n="駱溪鼎" h="27136636" p="0932077397"/>
    <m t="二隊" id="23" j="隊員" n="魏文力" h="22891042" p="0952103520"/>
    <m t="二隊" id="24" j="隊員" n="魏志龍" h="25782300" p="0918066745"/>
    <m t="二隊" id="25" j="隊員" n="李志傑" h="27129815" p="0931047838"/>
    <m t="二隊" id="26" j="隊員" n="蕭繼昌" h="27136629" p="0975273878"/>

    <m t="三隊" id="1" j="隊長" n="辜喬震" h="27051727" p="0907227999"/>
    <m t="三隊" id="2" j="副隊長" n="林志弘" h="27513213" p="0921969119"/>
    <m t="三隊" id="3" j="隊員" n="王文彬" h="27313507" p="0966988818"/>
    <m t="三隊" id="4" j="隊員" n="王聰穎" h="27772906" p="0932155949"/>
    <m t="三隊" id="6" j="隊員" n="李文達" h="26913630" p="0910108639"/>
    <m t="三隊" id="8" j="隊員" n="孟志鈞" h="26428037" p="0932300958"/>
    <m t="三隊" id="9" j="隊員" n="林國龍" h="23650362" p="0936085094"/>
    <m t="三隊" id="11" j="隊員" n="柯博文" h="26907032" p="0935165891"/>
    <m t="三隊" id="12" j="隊員" n="徐光慶" h="27511887" p="0982824333"/>
    <m t="三隊" id="14" j="隊員" n="陳成發" h="26337136" p="0935349454"/>
    <m t="三隊" id="15" j="隊員" n="黃沈博" h="27121996" p="0912419858"/>
    <m t="三隊" id="16" j="隊員" n="黃連益" h="25770219" p="0936138749"/>
    <m t="三隊" id="17" j="隊員" n="楊明煌" h="25780764" p="0953588087"/>
    <m t="三隊" id="18" j="隊員" n="詹光亮" h="25779359" p="0938005657"/>
    <m t="三隊" id="19" j="隊員" n="廖春成" h="28122151" p="0921621828"/>
    <m t="三隊" id="20" j="隊員" n="劉思延" h="27174116" p="0932003873"/>
    <m t="三隊" id="21" j="隊員" n="劉修彬" h="25709967" p="0910004131"/>
    <m t="三隊" id="23" j="隊員" n="蔡震豪" h="22197194" p="0937742357"/>
    <m t="三隊" id="24" j="隊員" n="謝建民" h="25782401" p="0928854325"/>
    <m t="三隊" id="25" j="隊員" n="顏添福" h="25796628" p="0921825851"/>
    <m t="三隊" id="26" j="隊員" n="龔永智" h="25709070" p="0913229779"/>
    <m t="三隊" id="27" j="隊員" n="歐陽客安" h="27694210" p="0963714619"/>

    <m t="四隊" id="1" j="隊長" n="郭智仁" h="22001245" p="0921726108"/>
    <m t="四隊" id="2" j="副隊長" n="靳輝耀" h="" p="0915202168"/>
    <m t="四隊" id="3" j="隊員" n="呂文輝" h="27223415" p="0928090088"/>
    <m t="四隊" id="4" j="隊員" n="江慶明" h="25773999" p="0937058505"/>
    <m t="四隊" id="9" j="隊員" n="翁安良" h="27661480" p="0958457037"/>
    <m t="四隊" id="10" j="隊員" n="陳文呈" h="25785138" p="0932202680"/>
    <m t="四隊" id="11" j="隊員" n="陳禹安" h="87715020" p="0920664336"/>
    <m t="四隊" id="13" j="隊員" n="葉德澤" h="25703951" p="0921925938"/>
    <m t="四隊" id="14" j="隊員" n="葉蘭根" h="25783584" p="0975825034"/>
    <m t="四隊" id="15" j="隊員" n="廖文彬" h="27514625" p="0937849242"/>
    <m t="四隊" id="16" j="隊員" n="劉昇交" h="27647796" p="0910080036"/>
    <m t="四隊" id="17" j="隊員" n="劉建宏" h="25779506" p="0983612520"/>
    <m t="四隊" id="18" j="隊員" n="劉慶松" h="25792720" p="0912528166"/>
    <m t="四隊" id="19" j="隊員" n="蔡松澤" h="25773666" p="0923191326"/>
    <m t="四隊" id="20" j="隊員" n="蕭金塗" h="27580698" p="0910001849"/>
    <m t="四隊" id="21" j="隊員" n="謝世宏" h="27327864" p="0930432939"/>
    <m t="四隊" id="22" j="隊員" n="羅明東" h="26933622" p="0938299297"/>
    <m t="四隊" id="25" j="隊員" n="黃遠儀" h="27206722" p="0918598512"/>
</root>
`;

    function filterData() {
        const keyword = document.getElementById('searchInput').value.toLowerCase();
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(xmlSource, "text/xml");
        const members = xmlDoc.getElementsByTagName("m");
        const grid = document.getElementById('contactGrid');
        let html = "";
        let count = 0;

        for (let i = 0; i < members.length; i++) {
            const n = members[i].getAttribute("n"); // 姓名
            const t = members[i].getAttribute("t"); // 隊伍
            const j = members[i].getAttribute("j"); // 職稱
            const p = members[i].getAttribute("p"); // 手機
            const h = members[i].getAttribute("h"); // 住宅
            const id = members[i].getAttribute("id");

            if (n.includes(keyword) || t.includes(keyword) || p.includes(keyword)) {
                count++;
                html += `
                <div class="card">
                    <div class="card-header">
                        <p class="name">${n} <span class="job-title">${j}</span></p>
                        <span class="team-info">${t} No.${id}</span>
                    </div>
                    <div class="phone-row"><b>手機</b> <a href="tel:${p}" class="tel-link">${p || '未提供'}</a></div>
                    <div class="phone-row"><b>住宅</b> <span>${h || '未提供'}</span></div>
                </div>`;
            }
        }
        grid.innerHTML = html || '<div style="grid-column: 1/-1; text-align:center; padding: 50px;">查無結果</div>';
        document.getElementById('counter').innerText = `找到 ${count} 位成員`;
    }

    // 初始化載入全部
    window.onload = filterData;
</script>

</body>
</html>